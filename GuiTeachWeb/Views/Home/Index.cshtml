@{
    ViewData["Title"] = "Home Page";

}

<h1>Guitar Neck</h1>
<div>
    <div>
        <p>Resize the window to see the last visible fret</p>
    </div>
    <svg id="neckSvg" width="1490" height="200" xmlns="http://www.w3.org/2000/svg">
        <!-- Guitar neck 6s Rh 24f-->
        <rect id="fingerBoard" x="10" y="10" width="1490" height="180" fill="saddlebrown" />
        <!-- Nut -->
        <rect id="nut" x="10" y="10" width="20" height="180" fill="bone" />
        <!-- Frets -->
        <line class="fret" id="f1" x1="90" y1="10" x2="90" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f2" x1="150" y1="10" x2="150" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f3" x1="210" y1="10" x2="210" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f4" x1="270" y1="10" x2="270" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f5" x1="330" y1="10" x2="330" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f6" x1="390" y1="10" x2="390" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f7" x1="450" y1="10" x2="450" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f8" x1="510" y1="10" x2="510" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f9" x1="570" y1="10" x2="570" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f10" x1="630" y1="10" x2="630" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f11" x1="690" y1="10" x2="690" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f12" x1="750" y1="10" x2="750" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f13" x1="810" y1="10" x2="810" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f14" x1="870" y1="10" x2="870" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f15" x1="930" y1="10" x2="930" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f16" x1="990" y1="10" x2="990" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f17" x1="1050" y1="10" x2="1050" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f18" x1="1110" y1="10" x2="1110" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f19" x1="1170" y1="10" x2="1170" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f20" x1="1230" y1="10" x2="1230" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f21" x1="1290" y1="10" x2="1290" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f22" x1="1350" y1="10" x2="1350" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f23" x1="1410" y1="10" x2="1410" y2="190" stroke="silver" stroke-width="5" />
        <line class="fret" id="f24" x1="1470" y1="10" x2="1470" y2="190" stroke="silver" stroke-width="5" />
        <!-- Inlays -->
        <circle id="inlay3" cx="180" cy="100" r="5" fill="white" />
        <circle id="inlay5" cx="300" cy="100" r="5" fill="white" />
        <circle id="inlay7" cx="420" cy="100" r="5" fill="white" />
        <circle id="inlay9" cx="540" cy="100" r="5" fill="white" />
        <circle id="inlay12a" cx="720" cy="50" r="5" fill="white" />
        <circle id="inlay12b" cx="720" cy="150" r="5" fill="white" />
        <circle id="inlay15" cx="900" cy="100" r="5" fill="white" />    
        <circle id="inlay17" cx="1020" cy="100" r="5" fill="white" />
        <circle id="inlay19" cx="1140" cy="100" r="5" fill="white" />
        <circle id="inlay21" cx="1260" cy="100" r="5" fill="white" />
        <circle id="inlay24a" cx="1440" cy="50" r="5" fill="white" />
        <circle id="inlay24b" cx="1440" cy="150" r="5" fill="white" />        
        <!-- Strings -->
        <line id="string6" x1="10" y1="26" x2="1490" y2="26" stroke="black" stroke-width="2" />
        <line id="string5" x1="10" y1="56" x2="1490" y2="56" stroke="black" stroke-width="2" />
        <line id="string4" x1="10" y1="86" x2="1490" y2="86" stroke="black" stroke-width="2" />
        <line id="string3" x1="10" y1="116" x2="1490" y2="116" stroke="black" stroke-width="2" />
        <line id="string2" x1="10" y1="146" x2="1490" y2="146" stroke="black" stroke-width="2" />
        <line id="string1" x1="10" y1="176" x2="1490" y2="176" stroke="black" stroke-width="2" />
    </svg>
</div>
<p id="lastFret"></p>
<form method="post">
    <input type="submit" value="Submit" />

    <label for="fingeringString">String</label>
    <input type="number" name="fingeringString" id="fingeringString" value="1" min=1 max=6 />

    <label for="fingeringFret">Fret</label>
    <input type="number" name="fingeringFret" id="fingeringFret" value="0" min=0 max=24 />
</form>


<script>
    // Function to get the last visible fret
    function lastVisibleFret() {
        var frets = document.querySelectorAll('line.fret');

        var lastFret = frets[0];
        for (var i = 1; i < frets.length; i++) {
            if (frets[i].getAttribute('x1') < (window.innerWidth - 50)){
                lastFret = frets[i];
            }
        }
        return lastFret.getAttribute('id');
    }

    // Function to adjust the SVG based on the window width
    function adjustSvg() {
        var svg = document.getElementById('neckSvg');
        var rect = document.getElementById('fingerBoard');
        var pageWidth = window.innerWidth;

        // Example: Adjust the rectangle width based on the page width     
        svg.setAttribute('width', pageWidth - 50);
        var newFingerBoardWidth = pageWidth - 70; 
        rect.setAttribute('width', newFingerBoardWidth);
        document.getElementById("lastFret").innerText = lastVisibleFret();
    }

    // Adjust on load and on window resize
    window.onload = adjustSvg;
    window.onresize = adjustSvg;        
</script>


